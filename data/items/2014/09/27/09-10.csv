ID,Type,Story,Parent,Points,Comments,Author,Title,URL,Content,Created
8376598,comment,8376376,8376376,5,0,masklinn,,,"> Assumedly programs like apache filter out environment variables properly.  But unfortunately, in the validation of input data, they fails to validate correctly input data because they don&#x27;t expect that data starting with &quot;() {&quot; will be interpreted by their bash child processes.  If there&#x27;s a bug, it&#x27;s not in bash, but in apache and the other internet facing programs that call bash without properly validating and controlling the data they pass to bash.<p>Bullshit, this may well be perfectly valid data and web servers are not in the business of shielding shells against their own misfeatures.<p>And if they were where would they stop? It would require that webservers do arbitrary context-sensitive data analysis of everything doing through in case this is a malformed JSON string triggering a bug in GSON while that is data injected unescaped into an SQL variable and the other one&#x27;s too big for an underlying C buffer.<p>You can only end up with a webserver refusing to do anything, because some idiotic application somewhere may misuse or misunderstand <i>anything</i> it lets through.",1411811989
8376597,comment,8376376,8376514,4,0,scintill76,,,"> if Apache/dhclient wants to put things into environment variables... it absolutely should ... take into account all possible contexts<p>Sorry if I&#x27;m picking on you too much, but I noticed this and thought of an even better counterexample.  By this logic, it&#x27;s Apache&#x27;s job to prevent SQL injections.  It should know that a single quote, in one possible context, can terminate an SQL string, popping the SQL parser into a state that allows for arbitrary statement injection.<p>It also needs to know about any other database language that could ever possibly be invented, now and for eternity, because we can&#x27;t know how long any given version of Apache will remain in use.",1411811802
8376596,comment,8376376,8376540,3,0,icebraining,,,"From what I understand, Apache doesn&#x27;t send them to bash. It sends the to whatever binary is configured to handle the request (using CGI), which were then calling bash unbeknown to Apache (but implicitly passing the same environment variables).",1411811686
8376595,comment,8376376,8376552,3,0,xioxox,,,"The saner way to implement this bash feature would be to have a single environment variable containing inherited shell functions. A special prefix is an alternative, but a bit harder to filter.",1411811679
8376594,comment,8375668,8375668,3,0,wodenokoto,,,"How much money does an article or a youtube video generate? It seems that this one article alone must have cost thousands of dollars in equipment alone.<p>And while the iphone 6 bend video on youtube has almost 40 million hits now, the unbox therapy user who uploaded it hits less than 500.000 views on average for their other videos. I&#x27;m willing to believe that 40 million views on youtube can be monitized to pay for more than an iphone 6, but I&#x27;m not so sure about the 2-300k, so it seems like quite the investment to go around breaking phones.",1411811641
8376593,comment,8376237,8376555,3,0,vidarh,,,"I guess he&#x27;s saying that for food to be this cheap seen with our eyes, there needs to be a substantial oversupply. And since there are physical limitations to how much food we are able to actually eat, if there&#x27;s an oversupply a bunch of it <i>will</i> be thrown away, whether by farmers, distributors or consumers:<p>Either they fail to sell the food, or the low prices gets consumers to buy more than they need.",1411811611
8376592,comment,8376080,8376538,1,0,lvh,,,"How so? It seems like a sufficiently smart comp^H^H^H^Hservice could figure out how to distribute machines across them, even if the user doesn&#x27;t know they exist.<p>Turns out it&#x27;s a moot point anyway, because cells <i>are</i> client-visible, and have been contributed upstream to OpenStack as a Nova extension.",1411811597
8376591,comment,8312756,8312810,1,0,ngcoder,,,"The Allonge book was incredibly helpful. Thanks for the suggestion",1411811574
8376590,comment,8376376,8376576,0,0,meelooo,,,"You are describing the problem exactly: it all too tempting to pass text around from user input to command line arguments without any way to validate the text data and assume it&#x27;s ok because it&#x27;s easy. It&#x27;s exactly the same arguments that goes in between static and dynamic typing in programming languages: static typing ensures some sort of semantics is respected. If you pass text around, because it&#x27;s easy and fast, most of the time you will never validate the data and you have no way to ensure that you are not actually handling a bomb. If the protocol was binary there is no way in hell you would be tempted to pass it&#x27;s data without validation to an external program because you&#x27;d have to respect the API and because there would be not way to just send a bunch of commands. The same goes for sql injections, url buffer overflows, etc. Free form text should only be used for actual human textual data and should NEVER be the interface in between programs. It&#x27;s way too fuzzily defined to serve as a protocol.",1411811570
8376589,comment,8312756,8312756,1,0,ngcoder,,,"Thanks everyone for these suggestions. The Allonge book was incredibly helpful",1411811531
8376588,comment,8374345,8376155,4,0,glitchdout,,,"> I also feel that people conflate duplicating code with duplicating behaviour, which is what DRY is really about.<p>Indeed. The definition of the DRY principle [1] is:<p><i>Every piece of knowledge must have a single, unambiguous, authoritative representation within a system.</i><p>and not:<p><i>Don&#x27;t type the same characters into the keyboard multiple times.</i><p>People often forget that.<p>[1]: <a href=""http://c2.com/cgi/wiki?DontRepeatYourself"" rel=""nofollow"">http://c2.com/cgi/wiki?DontRepeatYourself</a>",1411811531
8376587,comment,8376458,8376458,4,0,hamburglar,,,"I&#x27;ve always thought it would be interesting to have a statically linked executable that was actually statically linked to externally-visible, signed copies of shared libs that are embedded in themselves, so that the dynamic linker could recognize when two processes, both of which are statically linked, could still share the same pages in memory because they have both statically linked the same lib+version.  In other words, you get the memory and io savings of dynamic libs, but you get none of the dependency resolution problems (and none of the disk space savings).",1411811387
8376586,comment,8376376,8376376,30,0,saurik,,,"The original author of bash (a friend of mine, which is why I have this context) has been being interviewed by various newspapers today regarding shellshock, and finds the idea that he might have anticipated the number of ways people integrated bash into various systems (such as with Apache allowing remote control over environment variables when running software in security domains designed to protect against unknown malicious users) quite humorous. Apparently, it has been an uphill battle to explain that this was all coded so long ago that even by the time he had already passed the project on to a new developer (after having maintained it for quite a while himself) the World Wide Web still wasn&#x27;t a thing, and only maybe gopher (maybe) had been deployed: that this was even before the Morris worm happened...<p>> In an interview Thursday, Mr. Fox, the Bash inventor, joked that his first reaction to the Shellshock discovery was, “Aha, my plan worked.”<p><a href=""http://mobile.nytimes.com/2014/09/26/technology/security-experts-expect-shellshock-software-bug-to-be-significant.html"" rel=""nofollow"">http://mobile.nytimes.com/2014/09/26/technology/security-exp...</a>",1411811361
8376585,comment,8371852,8375098,1,0,lordnacho,,,"I was about to say the same thing. I&#x27;ve studied economics, and worked in latency sensitive finance, though not for one of these firms, and I&#x27;ve never come across anything that was obvious. Perhaps you could enlighten us about was sort of thing is used, because time constraints seem to imply the algos must be quite short.",1411811247
8376583,comment,8376064,8376470,1,0,lmz,,,"threeseed probably wants to use Postgres as a robust transactional backend for MongoDB much like InnoDB is used as a robust transactional engine for MySQL. (There is TokuMX that might fit that use case also).",1411811230
8376582,story,,,2,0,anirudh24seven,"HelpStack, now for Android developers",https://github.com/happyfoxinc/helpstack-android,,1411811205
8376581,comment,8376064,8376416,4,0,JonnieCache,,,"Just because its a programming language. It can write to disk, open sockets, etc.<p><i>&quot;As of PostgreSQL 7.4, PL/Python is only available as an &quot;untrusted&quot; language, meaning it does not offer any way of restricting what users can do in it. It has therefore been renamed to plpythonu. The trusted variant plpython might become available again in future, if a new secure execution mechanism is developed in Python. The writer of a function in untrusted PL/Python must take care that the function cannot be used to do anything unwanted, since it will be able to do anything that could be done by a user logged in as the database administrator. Only superusers can create functions in untrusted languages such as plpythonu.&quot;</i><p><a href=""http://www.postgresql.org/docs/current/static/plpython.html"" rel=""nofollow"">http://www.postgresql.org/docs/current/static/plpython.html</a><p>Incidentally I&#x27;ve been merging my json in perl. It&#x27;s automatically built into postgres, and the Hash::Merge library with it&#x27;s configurable behaviour is very handy. Still, looking forward to not doing that. 9.4 is coming before xmas, right?",1411811195
8376580,comment,8374345,8375123,2,0,spc476,,,"SHL EAX,1 and ADD EAX,EAX are the same, time wise.  The only difference is that the A flag (auxiliary carry [1]) is undefined for SHL and defined for ADD.  SHL EAX,n may be faster than n repeats of ADD EAX,EAX, but there are other ways to do quick multiplication by powers of 2 though.<p>[1] The auxiliary carry reflects a borrow from bit 4 to bit 3, or a carry from bit 3 to bit 4.  It&#x27;s used for BCD [2] arithmetic, and there is is no direct way to test for it.<p>[2] Binary Coded Decimal",1411811143
8376579,comment,8375668,8376305,3,0,bitserf,,,"If everyone wanted more durability and better battery life we&#x27;d still be using Nokias that were indestructible and lasted 7 days on a charge.",1411811119
8376578,comment,8376376,8376537,3,0,vidarh,,,"There are many other ways Bash could do that, though, which would make it much harder for further exploits. Such as opening a pipe and writing them to the sub-process that way so it goes &quot;out of band&quot; from the regular environment variables. Or if it has to be in environment variables: Accept a special argument in the argument list that is a key it uses to sign the variables. It does not need to remain secret - just make sure that <i>just</i> inheriting environment variables with potential attempted exploits is insufficient for anything to get executed.<p>And/or change the way these definitions are handled - I get that it&#x27;s tantalizingly simple to just pass this through their usual parser since then you get the function definition parsing for free, but at the very least this parsing of the environment variables shouldn&#x27;t go through a code path that even potentially executes anything.",1411811036
8376577,comment,8376376,8376518,1,0,meelooo,,,"It&#x27;s not about making protocols less understandable by humain, it&#x27;s about recognising that we are programming computers, not humans and that it&#x27;s time we accept that there should certainly be a way for the humans to interact with the program at some point we should not force the same kind of interactions on the programs themselves.\nIt&#x27;s much harder to make text and text based commands&#x27; parsing and handling secure than it is to use binary protocols in the first place.",1411811013
8376576,comment,8376376,8376505,4,0,icebraining,,,"Please describe specifically how would that have helped.<p>This has nothing to do with parsing text. The problem here is that Apache et all send untrusted data to a process that treats it as code. It wouldn&#x27;t matter if HTTP was a binary protocol and if bash read a well defined bytecode instead. I mean, look at shellcodes.",1411811002
8376575,comment,8376027,8376027,3,0,smtddr,,,"<i>>>\nThe Kinects can read up to three people on each side, and you can see others through the Cube, which acts as a portal, virtually connecting people who are separated in physical space.\n<a href=""http://www.wired.com/2008/11/eye-contact-tra/"" rel=""nofollow"">http://www.wired.com/2008/11/eye-contact-tra/</a> </i><p>I would expect this to be a hit in Japan where shyness is apparently a taller hurdle to overcome than most of western social norms.<p><a href=""http://travel.cnn.com/tokyo/shop/miteru-dake-videos-stare-abyss-060690"" rel=""nofollow"">http://travel.cnn.com/tokyo/shop/miteru-dake-videos-stare-ab...</a>",1411810993
8376574,story,,,3,0,Rexxar,"EMIPS: a dynamically extensible processor",http://research.microsoft.com/en-us/projects/emips/default.aspx,,1411810977
8376573,comment,8376376,8376376,1,0,sandstrom,,,"Using Nginx, how could one filter/drop/reject http requests where a http header start with &quot;() {&quot;?<p>I know patching `bash` is most important (and I have). But it would give some extra comfort.",1411810973
8376572,story,,,2,0,ckelly,"Survata (YC S12): Giving Developers Timely Feedback on App Designs",http://tech.co/survata-launches-usability-testing-2014-09,,1411810920
8376571,comment,8373266,8374958,1,0,PostOnce,,,"Serious is a spectrum, someone working on more &quot;serious&quot; problems than you might laugh at the idea of doing any work at all on a single consumer GPU.",1411810912
8376570,comment,8376376,8376544,2,0,scintill76,,,"AFAIK Apache itself isn&#x27;t vulnerable, because it probably doesn&#x27;t invoke a shell.  CGI apps it invokes might, which is how the vulnerability is triggered.",1411810882
8376569,comment,8376554,8376554,2,0,elisabeth,,,"Another example that comes to my mind is Markus Frind, owner of PlentyOfFish. Did he every sell a part of it? I think he kept everything. And makes like 10 million a year. Not sure if that qualifies as &quot;Hypergrowth&quot;. What do you guys think?",1411810865
8376568,comment,8376064,8376468,0,0,brey,,,"once you start page faulting and hitting spinning disk it&#x27;s game over for any database&#x27;s performance, postgres included.",1411810857
8376567,story,,,4,1,fizerkhan,"Fix Shellshock Bash Vulnerability in OS X Bash",http://www.fizerkhan.com/blog/posts/Fix-Shellshock-Bash-Vulnerability-in-OSX-Bash.html,,1411810822
8376566,comment,8375502,8376343,1,0,icelancer,,,">Still, what students &#x27;enjoy&#x27; is not necessarily what is most beneficial for them in a college course. I think you&#x27;re setting up the incentives wrong.<p>This is already overwhelmingly the case in an attempt to secure more and more student loan funds.",1411810817
8376565,story,,,1,0,jgraber,"Debugging Serilog",http://improveandrepeat.com/2014/09/debugging-serilog/,,1411810804
8376564,comment,8375372,8375597,2,0,Rapzid,,,"I think it&#x27;s easy to  miss the point of docker which is to create a standard unit for deployment.  Just like a shipping container is the standard unit of shipping... Which is quite pronounced in their graphics and explanation...  Docker helps make it all uniform.  You also get cgroups and all the fun stuff that brings, along with a level of isolation and configuration.<p>I&#x27;ll concede that my first reaction was &quot;somebody who has finished the docker tutorials should easily be able to make a Go container, what&#x27;s the big deal?&quot;.  But, this is targeted towards Go people and not necessarily Docker-Go people.",1411810776
8376563,comment,8375773,8375956,1,0,tomjen3,,,"That is the kind of argument a 13 year old would make on tumblr.<p>Somethings are better than others, not discriminating based on gender, where the gender doesn&#x27;t matter for the job, is strictly better than discriminating based on gender.<p>Seriously if this happened in the US you would be up in arms, the Chinese should not be allowed to be different.",1411810683
8376562,comment,8376186,8376186,6,0,chton,,,"2015 Ig Nobel award for Politics, right there.<p>I love this kind of &#x27;research&#x27;.  It&#x27;s frivolous, but there is an underlying point about the stressfulness of presidency.",1411810611
8376561,comment,8376064,8376506,4,0,sergiosgc,,,"I see where you are coming from, and my opinion is mostly the same. However, I can see a use case for relaxing constraints in a distributed scenario, as described by the CAP theorem.<p>In a distributed scenario, when a partition event occurs, relational databases opt for consistency, whereas nosql opts for availability. This is formally correct behaviour by relational dbs, but comes with a cost. The cost is a serial performance component, that can&#x27;t be parallelized.  Nosql DBs (most of them), in this scenario, go for availability, and may thus eschew some consistency guarantee tasks, with a cost in data consistency and an advantage in parallel performance.<p>The trick, as ever, is to use each tool in its function. Nosql and relational dbs are wholly different tools, for wholly different problem classes. Using nosql where consistency is paramount irks me to no end, and that is the case 80% of the time I see people using nosql. On the other hand, in specific cases, nosql DBs are a new useful tool in my arsenal.",1411810576
8376560,comment,8376064,8376527,3,0,lgas,,,"Postgresql has materialized views now:<p><a href=""http://www.postgresql.org/docs/9.3/static/sql-creatematerializedview.html"" rel=""nofollow"">http://www.postgresql.org/docs/9.3/static/sql-creatematerial...</a><p>Unless I&#x27;m misunderstanding what Xylakant means, that&#x27;s certainly doable in Postgresql and has been in other relational databases for a long time.",1411810520
8376559,comment,8376376,8376544,4,0,vidarh,,,"But without knowing how other apps treat that data, Apache can not know what needs to be done to sanitize the data.<p>For what Apache knows, that CGI it executes could treat the presence of the letter &quot;x&quot; in any environment variable as &quot;start a nuclear war&quot;.<p>While it may make sense for Apache to sanitize the data against specific known, common problems, until this week this was not a specific known problem. It might have been if the Apache team audited the code of every plausible piece of code that people might use to interpret CGI scripts, but that&#x27;s not a realistic scenario.",1411810495
8376558,comment,8374345,8376155,2,0,danieldisu,,,"You could have the best of both worlds with IDE support, once it is there people may stop putting so many innecesary layers if they aren&#x27;t needed only so that function gets &quot;inlined by the IDE&quot;",1411810464
8376557,comment,8361574,8364385,1,0,rtmdivine,,,"Enter this PoC in your terminal:<p>env var=&#x27;() {(a)=>\\&#x27; bash -c &quot;echo date&quot;; cat echo<p>A target patched for CVE-2014-6271 will output the date upon executing that PoC (Proof of Concept):<p>bash: var: line 1: syntax error near unexpected token `=&#x27;<p>bash: var: line 1: `&#x27;<p>bash: error importing function definition for `var&#x27;<p>Thu Sep 25 17:52:32 EDT 2014<p>There is a new update (#26) for bash 4.3 which fixes CVE-2014-7169 (the old bash update was still flawed/incomplete as demonstrated above by executing the PoC). So, taking into account what everyone before contributed, the new complete patch code would be:<p>mkdir src<p>cd src<p>wget <a href=""http://ftp.gnu.org/gnu/bash/bash-4.3.tar.gz"" rel=""nofollow"">http://ftp.gnu.org/gnu/bash/bash-4.3.tar.gz</a><p>#download all patches<p>for i in $(seq -f &quot;%03g&quot; 0 26); do wget     <a href=""http://ftp.gnu.org/gnu/bash/bash-4.3-patches/bash43-$i;"" rel=""nofollow"">http://ftp.gnu.org/gnu/bash/bash-4.3-patches/bash43-$i;</a> done<p>tar zxvf bash-4.3.tar.gz<p>cd bash-4.3<p>#apply all patches<p>for i in $(seq -f &quot;%03g&quot; 0 26);do patch -p0 < ../bash43-$i; done<p>#build and install<p>sudo ./configure --prefix=/usr --bindir=/bin --sbindir=/sbin --sysconfdir=/etc && sudo make && sudo make install<p>Once patched for CVE-2014-7169 the previous PoC should not return the date anymore:<p>bash: var: line 1: syntax error near unexpected token `=&#x27;<p>bash: var: line 1: `&#x27;<p>bash: error importing function definition for `var&#x27;<p>date<p>cat: echo: No such file or directory<p>And thanks to all previous contributors!",1411810462
8376555,comment,8376237,8376469,1,0,alexeisadeski3,,,">So in order to keep food cheap, we have to throw half of it away.<p>Wut",1411810399
8376554,story,,,11,6,elisabeth,"How much to keep of your startup?",,"I just listened to Sam Altmans &quot;How to Start a Startup&quot; lecture. One part that irritated me is that it is said that in the end you will probably keep around 10% of your startup.<p>Im building a startup right now that is suitable for hyper growth. I expect to keep the majority of it. From previous ventures, I have enough money to pay for myself for the forseeable future. And one or two team members if I find them. So far I do stuff on my own. Its a pure software startup. Why would I expect to sell 90% of it?<p>Zuckerberg owns 28% of Facebook.\nLarry and Sergey own 18% of Google.<p>Any numbers on how much the AirBnB, Dropbox, Pinterest... founders kept?",1411810379
8376553,comment,8375773,8375956,1,0,yen223,,,"As a Chinese guy, can I snidely judge Chinese culture?<p>When it comes to racism, we are among the worst offenders. At least Westerners make the effort to not appear racist - we Asians don&#x27;t give a fuck.",1411810374
8376552,comment,8376376,8376376,9,0,0x0,,,"Still sounds like a bug in bash to me.<p>What if I have a printer called &quot;() { :;}; echo lol&quot;, so I manually export PRINTER=&quot;() { :;}; echo lol&quot; (see <a href=""http://www.tldp.org/HOWTO/Printing-Usage-HOWTO-4.html"" rel=""nofollow"">http://www.tldp.org/HOWTO/Printing-Usage-HOWTO-4.html</a>)<p>I don&#x27;t think this was the intended behavior even 25 years ago. :)",1411810311
8376550,comment,8375668,8375989,4,0,YooLi,,,"Did you read the iPhone 6 link? It was done after the Note 4, as mentioned in the write-up. Also mentioned in the write-up was<p><i>&quot;Based on our extensive Lab tests and measurements, the iPhone 6 Plus is the Best performing Smartphone LCD display that we have ever tested.&quot;</i>",1411810281
8376549,comment,8376064,8376404,1,0,nl,,,"Yes this is true, and much needed.",1411810233
8376548,comment,8375668,8376436,4,0,swombat,,,"> * a company that said about the antenna issue on the iPhone 4: &quot;You&#x27;re holding it wrong&quot;*<p>Yes and... that was correct? Every other phone suffers from the same antenna attenuation if you enclose it completely in your hands. But because it&#x27;s Apple, some news outlets saw a chance to make some pageviews by creating another scandal.<p>The &quot;antennagate&quot; crap was roughly equivalent to people complaining that a TV won&#x27;t show any image at all if you set it up facing the wall, and writing lots of grandiose articles about how Apple TV doesn&#x27;t deliver on its promise in all sorts of common circumstances, etc.",1411810048
8376547,comment,8376376,8376480,16,0,danielparks,,,"I agree with all your points.<p>I think the real bug is that all this stuff calls out to a shell at all. Sure, it&#x27;s convenient, but it&#x27;s basically eval().",1411809991
8376546,comment,8376376,8376505,0,0,nly,,,"All very well said, but until tools like Protocol Buffers became popular the tooling for working with custom binary protocols has been pretty dire.",1411809918
8376545,comment,8374263,8376094,0,0,ExpiredLink,,,"> <i>even if you are mere a brainwashed Java dev</i><p>I see where you&#x27;re coming from, SLW.",1411809872
8376544,comment,8376376,8376523,0,0,nailer,,,"Apache knows what data Apache passes it its own sub processes, which is the issue here. Nobody is expecting Apache to sanitise other apps, just itself.",1411809841
8376543,comment,8376064,8376370,1,0,yangyang,,,"Nitpick: PostgreSQL, or Postgres for short. Never &quot;Postgre&quot;.",1411809814
8376542,comment,8375262,8376025,1,0,htilonom,,,"Nope, his insurance is almost gone. He didn&#x27;t have much employment all his life, but he is looking for part time job now...",1411809794
8376541,comment,8376387,8376387,1,0,napoleoncomplex,,,"Congrats on launching this! I&#x27;ve been looking into using SMS as a delivery mechanism for a while now, for different reasons. Access to, for example, medical information through SMS could be immensely helpful in the developing world.<p>Two questions that made me stumble were:<p>- how does the pricing work out? In my research, all SMS services were way too expensive to work at scale, especially with sending to the developing world, Africa etc. You use Twillio, and for developing countries it&#x27;s mostly 0.01$/message over a local number, but no option to buy a local number.<p>- what is the difference between land coverage of cellular networks vs. EDGE/3G networks in the developing world? Does it make sense to focus on SMS to increase reach?<p>Would appreciate what you guys or anyone else has found out about this.",1411809777
8376540,comment,8376376,8376480,1,0,nailer,,,"There are other methods of IPC other than shell variables. The shell is a known insecure environment, which is where there are limits on setuid for shell scripts.<p>By letting everyone on the Internet set shall variables Apache and whatever DHCPd (ISC?) did something they could have known would have bad consequences whether this feature/bug existed or not.<p>The only data Apache needs to control is Apaches.",1411809724
8376539,comment,8376064,8376450,5,0,yangyang,,,"What&#x27;s wrong with DB2? I know it&#x27;s commercial and a bit arcane in areas, but it&#x27;s a far more powerful database than MySQL.",1411809699
8376538,comment,8376080,8376364,2,0,notatoad,,,"if the &quot;cells&quot; aren&#x27;t visible in such a way that you can distribute your application across them, it doesn&#x27;t really matter that they exist.",1411809697
8376537,comment,8376376,8376533,2,0,fabulist,,,"Its used by bash itself for communicating with subprocesses.<p>Input you type at the terminal is not the same as an environment variable; hackers set environment variables much more often than legitimate users.",1411809653
8376535,comment,8376376,8376514,1,0,anon1385,,,"You say dhclient should take into account all possible contexts before passing data to bash, but it&#x27;s not easy to know what data shells will parse as code and what they won&#x27;t[1]. If we have to sanitise data before passing it to shells then the only sane conclusion is to never pass untrusted data to shell scripts. I certainly don&#x27;t trust myself to know the full range of features in all shells that might suddenly turn a plain text string into executed code. I can&#x27;t think of any other people that I would trust to know that either.<p>Is that really what you are advocating here? Don&#x27;t ever use shell scripts with untrusted data? That has been my philosophy for a long time, but up till now that position has been viewed as extreme by most people I&#x27;ve shared it with.<p>[1] there are still exploitable bash parser issues to be revealed  <a href=""http://seclists.org/oss-sec/2014/q3/777"" rel=""nofollow"">http://seclists.org/oss-sec/2014/q3/777</a>",1411809605
8376534,comment,8376376,8376514,10,0,scintill76,,,"So if I write a new shell called rash, that executes anything in an env var between, say, backticks, and install it as /bin/sh, it&#x27;s Apache&#x27;s job to neutralize backticks in untrusted data?  I can agree with some of the things you say, but this seems to be the logical conclusion, and it&#x27;s crazy.<p>The most consistent moral I&#x27;m deriving here, is that shells are for executing arbitrary commands in a flexible environment, so don&#x27;t even touch them if that&#x27;s not what you want. This applies to Apache, CGI wrappers, any other kind of web development.",1411809586
8376533,comment,8376376,8376520,2,0,tomjen3,,,"It has permission to trust the input the user enters into it, because that is its job. 20 years ago nobody assumed variable environments were an issue, but this should have been fixed years ago.<p>I am also pissed that they patched the parser, the feature is still in there when nobody uses it and it has already proven to be a security vuln once.",1411809561
8376532,comment,8376080,8376526,3,0,notatoad,,,"nobody is saying yet, but probably the xen issue that&#x27;s scheduled for disclosure on october 1",1411809556
8376531,comment,8375705,8375705,8,0,4ad,,,"The title of this submission is incorrect. Generate is not a preprocessor.",1411809486
8376530,comment,8374345,8375540,1,0,spc476,,,"I&#x27;ll say &quot;it depends.&quot;<p>At work, I have a 450 line function.  What it does is very simple:<p>1) validate the request; if it&#x27;s invalid, send back an error.\n2) look up some information.\n3) send that information.<p>Step 1 is around 300 lines.  But a majority of the lines are huge comment blocks describing what the check is for and referencing various RFCs.  Yeah, I could have broken this part off into its own function, but ... there will only be one caller and doing so would be doing so for its own sake [1].<p>Step 2 is one line of code (it calls a function for the information).<p>Step 3 is the remainder; it&#x27;s just constructing the response and sending it.<p>The code is straightforward.  It&#x27;s easy to follow.  It&#x27;s long because of the commentary.<p>[1] I did have to deal with a code base where the developer went way overboard with functions, most of which only have one caller.  It&#x27;s so bad that the main loop of the program is five calling levels deep.  I once traced one particular code path down a further <i>ten</i> levels of function calls (through half a dozen files) before it did actual work.<p>When I confronted the developer about that, he just simply stated, &quot;the compiler will inline all that anyway.&quot;  And yes, the compiler we&#x27;re using can do inlining among multiple object files, which makes it a real pain to debug when all you have is a core file.",1411809468
8376529,comment,8376376,8376520,2,0,myhf,,,"I guess as a POSIX-compliant shell, Bash can be expected to trust its inputs on stdin and in special environment variables like PATH.<p>But the problem emerges from trusting 100% of inputs, not just the inputs that are intended to be trusted.",1411809364
8376528,comment,8375668,8376035,5,0,lpsz,,,"Thank you for the first reasonable comment I&#x27;ve seen on this in a while. So much &quot;lol&quot; sensationalism and not much to say how much I, a fairly typical user, have to care about this.",1411809284
8376527,comment,8376064,8376449,1,0,gozzoo,,,"> I&#x27;ve seen project that leveraged CouchDB to basically return all data for any given view with a single query from a pre-calculated view, something which would have impossible with an SQL database.<p>This sounds interesting. I&#x27;ve been looking for a good example where NoSQL db is better than relation db. Could you provide more details.",1411809259
8376526,comment,8376080,8376112,1,0,tomjen3,,,"This isn&#x27;t to handle the bash problem?<p>What is it to fix then?",1411809217
8376525,comment,8375502,8376437,7,0,watwut,,,"Quoting article: &quot;There&#x27;s an intriguing exception to the pattern: Classes full of highly skilled students do give highly skilled teachers high marks. Perhaps the smartest kids do see the benefit of being pushed.&quot;<p>Maybe you are in that &quot;highly skilled&quot; group. Unfortunately, average student have different behavior.",1411809191
8376524,comment,8376376,8376376,1,0,INTPenis,,,"All the programs at risk here should really be using rbash.",1411809154
8376523,comment,8376376,8376514,6,0,vidarh,,,"Apache does not in general know whether or not data will be passed to bash.<p>And they <i>can&#x27;t</i> take into account all possible contexts, because that would involve reading the mind of all possible future users of the interfaces they provide, to make sure none of them decides to call out to programs that treats previously inert data as code.",1411809110
8376522,comment,8376064,8376450,4,0,ExpiredLink,,,"> <i>and one of my clients uses DB2</i><p>???",1411809099
8376521,comment,8376376,8376376,3,0,1wd,,,"Undocumented feature = bug.",1411808814
8376520,comment,8376376,8376514,3,0,fabulist,,,"Why is bash the only program which has special permission to trust its input?",1411808762
8376519,story,,,1,0,networked,"Programming: The Next Generation (2013)",https://neil.fraser.name/news/2013/06/19/,,1411808716
8376518,comment,8376376,8376505,8,0,fabulist,,,"I really don&#x27;t think making protocols less understandable by humans will solve anything.<p>This has always been and always will be a hard problem. Consider this quote which I found in The Shellcoder&#x27;s Handbook:<p>&quot;Wherever terms have a shifting meaning, independent sets of considerations are liable to become complicated together, and reasonings and results are frequently falsified.&quot; -- Ada Lovelace<p>We&#x27;ve known about this since literally the beginning; we&#x27;ll be cursing ourselves over it until the very end. Vulnerabilities are going nowhere.",1411808709
8376517,comment,8361558,8372610,1,0,logicchains,,,"It&#x27;s distribution of money, but redistribution of purchasing power, for which money is used as a proxy.",1411808702
8376516,comment,8376064,8376459,7,0,danohuiginn,,,"yeah, mongodb has flipped from hype to hatred without much in between.<p>The reason, I think, is that few people using it had a good sense of where the pain points would be. Many of us somehow imagined that because we didn&#x27;t know where mongodb&#x27;s limitations were, we wouldn&#x27;t run into them. Cue frustration when you&#x27;re bitten by some issue you didn&#x27;t think about.<p>I do believe there are good uses for it. But they are pretty specialised, and I&#x27;d rather use a relational db for most things.",1411808660
8376515,comment,8365061,8366838,1,0,ASneakyFox,,," this holds true for most of the US too. If some one gets hurt on your property youre usually liable. Each state varies a little on this though.",1411808580
8376514,comment,8376376,8376507,19,0,claudius,,,"The point here is that Bash was not designed to receive untrusted user data in environment variables. On the other hand, Apache/dhclient was designed to receive untrusted data, but then handed that over to someone which did not expect untrusted data without validation.<p>In other words, if Apache/dhclient wants to put things into environment variables, it absolutely should make sure to do this properly and indeed to take into account all possible contexts.",1411808566
8376513,comment,8376064,8376450,3,0,eksith,,,"Changing databases is extremely painful if there&#x27;s a fair amount of data already stored there. It doesn&#x27;t matter how &quot;database agnostic&quot; the code was originally, there are too many edge cases that tend to become front cases over time that you have to adjust for your specific database.<p>But just like with MySQL, I imagine those who can migrate to another DB would do so at the first opportunity or wait for the equivalent of MariaDB to make a &quot;drop-in replacement&quot; in lieu of messing with their application code.",1411808532
8376512,comment,8376376,8376376,0,0,senko,,,"The bug may be bash&#x27;s, but it&#x27;s the entire chain that makes it a serious one: <a href=""http://senko.net/shellshock"" rel=""nofollow"">http://senko.net/shellshock</a>",1411808453
